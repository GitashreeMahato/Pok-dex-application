let pokemonRepository=function(){let e=[];function t(){return e}function n(t){"object"==typeof t&&"name"in t?e.push(t):console.log("Pokemon is not correct")}function i(e){return o(),fetch(e.detailsUrl).then(function(e){return a(),e.json()}).then(function(t){e.imageUrlFront=t.sprites.front_default,e.imageUrlBack=t.sprites.back_default,e.height=t.height,e.weight=t.weight,e.types=t.types.map(function(e){return e.type.name}),e.abilities=t.abilities.map(function(e){return e.ability.name})}).catch(function(e){a(),console.error(e)})}function o(){console.log("Loading..."),console.time("Rendered")}function a(){console.timeEnd("Rendered")}return{getAll:t,add:n,addv:function t(n){let i=["name","height","types"],o=Object.keys(n);"object"==typeof n&&o.length===i.length&&i.every(e=>{o.includes(e)})?e.push(n):console.log("Invalid data. Only non empty objects with expected keys can be added")},findPokemonByName:function e(t){return pokemonRepository.getAll().filter(e=>e.name.includes(t)).map(e=>e.name)},addListItem:function e(t){let n=document.querySelector(".pokemon-list"),o=document.createElement("li");o.classList.add("col-12","col-sm-6","col-md-4","col-lg-3","mb-3","list-unstyled","text-center");let a=document.createElement("button");a.innerText=t.name,a.classList.add("btn","btn-primary","btn-lg","btn-block"),a.setAttribute("data-target","#exampleModal"),a.setAttribute("data-toggle","modal"),o.appendChild(a),n.appendChild(o),function e(t,n){t.addEventListener("click",function(){(function e(t){i(t).then(function(){var e;let n,i,o,a,l,r,d,c,p,s;e=t,n=document.querySelector(".modal-header"),i=document.querySelector(".modal-title"),o=document.querySelector(".modal-body"),i.innerHTML="",o.innerHTML="",(a=document.createElement("h1")).innerText=e.name,(l=document.createElement("p")).innerText="Height : "+e.height,(r=document.createElement("p")).innerText="Weight : "+e.weight,(d=document.createElement("img")).src=e.imageUrlFront,(c=document.createElement("img")).src=e.imageUrlBack,(p=document.createElement("p")).innerText="Types : "+e.types,(s=document.createElement("p")).innerText="Abilities : "+e.abilities,i.appendChild(a),o.appendChild(l),o.appendChild(r),o.appendChild(p),o.appendChild(s),o.appendChild(d),o.appendChild(c),pokemonContainer.appendChild(n)})})(n)})}(a,t)},loadList:function e(){return o(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return a(),e.json()}).then(function(e){e.results.forEach(function(e){n({name:e.name,detailsUrl:e.url})})}).catch(function(e){a(),console.error(e)})},loadDetails:i,showLoadingMessage:o,hideLoadingMessage:a}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});